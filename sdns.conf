# Config version
version = "1.6.0"

# Working directory. This MUST match your docker-compose volume.
# Default: "/db"
directory = "/db"

# --- SERVER BINDING ---
# This binds to all IPv4 interfaces and disables IPv6 listening.
bind = "0.0.0.0:53"

# Encrypted DNS protocols are disabled by default.
# bindtls = ":853"
# binddoh = ":8053"
# binddoq = ":853"
# tlscertificate = ""
# tlsprivatekey = ""

# --- OUTBOUND SETTINGS ---
outboundips = [
]

outboundip6s = [
]

# --- ROOT SERVERS ---
# Standard root servers
rootservers = [
    "198.41.0.4:53",
    "199.9.14.201:53",
    "192.33.4.12:53",
    "199.7.91.13:53",
    "192.203.230.10:53",
    "192.5.5.241:53",
    "192.112.36.4:53",
    "198.97.190.53:53",
    "192.36.148.17:53",
    "192.58.128.30:53",
    "193.0.14.129:53",
    "199.7.83.42:53",
    "202.12.27.33:53"
]
root6servers = [
    "[2001:503:ba3e::2:30]:53",
    "[2001:500:200::b]:53",
    "[2001:500:2::c]:53",
    "[2001:500:2d::d]:53",
    "[2001:500:a8::e]:53",
    "[2001:500:2f::f]:53",
    "[2001:500:12::d0d]:53",
    "[2001:500:1::53]:53",
    "[2001:7fe::53]:53",
    "[2001:503:c27::2:30]:53",
    "[2001:7fd::1]:53",
    "[2001:500:9f::42]:53",
    "[2001:dc3::35]:53"
]

# --- DNSSEC ---
# Default: "on"
dnssec = "on"

# Standard root keys
rootkeys = [
    ".                  172800  IN      DNSKEY  257 3 8 AwEAAaz/tAm8yTn4Mfeh5eyI96WSVexTBAvkMgJzkKTOiW1vkIbzxeF3+/4RgWOq7HrxRixHlFlExOLAJr5emLvN7SWXgnLh4+B5xQlNVz8Og8kvArMtNROxVQuCaSnIDdD5LKyWbRd2n9WGe2R8PzgCmr3EgVLrjyBxWezF0jLHwVN8efS3rCj/EWgvIWgb9tarpVUDK/b58Da+sqqls3eNbuv7pr+eoZG+SrDK6nWeL3c6H5Apxz7LjVc1uTIdsIXxuOLYA4/ilBmSVIzuDWfdRUfhHdY6+cn8HFRm+2hM8AnXGXws9555KrUB5qihylGa8subX2Nn6UwNR1AkUTV74bU="
]

# --- UPSTREAM SERVERS ---
fallbackservers = [
]
forwarderservers = [
]

# --- API & LOGGING ---
# Enable API on localhost (inside container only)
api = "127.0.0.1:8080"

# Loglevel. "info" is a good default.
# Options: crit, error, warn, info, debug
loglevel = "info"

# accesslog = ""

# --- BLOCKING & ACCESS CONTROL ---
blocklists = [
]

# IPv4 address for blocked A queries.
nullroute = "0.0.0.0"
# IPv6 address for blocked AAAA queries.
nullroutev6 = "::0"

# --- ACCESS LIST ---
accesslist = [
    "127.0.0.1/8",  # Localhost
    "::1",          # IPv6 Localhost
    "192.168.1.0/24", # Your local network
    "172.16.0.0/12",  # Docker network
    "10.0.0.0/8"      # Docker network
]

# --- TIMEOUTS ---
# Maximum time to wait for any DNS query to complete.
querytimeout = "10s"
# Network timeout for upstream DNS queries.
timeout = "2s"

# --- HOSTS FILE ---
# Use a standard hosts file.
hostsfile = "/etc/hosts"

# --- CACHE SETTINGS ---
# Cache TTL for error responses in seconds.
expire = 600

# Maximum number of cached DNS records.
cachesize = 256000

# Matches your Unbound 'prefetch: yes' setting.
# Refreshes popular cache entries before expiration.
prefetch = 10

# Maximum recursion depth.
maxdepth = 30

# --- RATE LIMITING ---
ratelimit = 0
clientratelimit = 0

# --- MANUAL LISTS ---
blocklist = [
]
whitelist = [
]

# --- PRIVACY & HARDENING ---
# A 'hide-version' intent.
nsid = ""

# Setting this to 'false' stops SDNS from replying to version.bind queries.
chaos = false

# Matches 'qname-minimisation: yes' intent.
# 0 disables. Higher values increase privacy.
qname_min_level = 5

# Enable local authoritative responses for RFC 1918 zones.
emptyzones = [
]

# --- PERFORMANCE ---
# Enable TCP connection pooling for root and TLD servers.
tcpkeepalive = true
roottcptimeout = "5s"
tldtcptimeout = "10s"
tcpmaxconnections = 100
